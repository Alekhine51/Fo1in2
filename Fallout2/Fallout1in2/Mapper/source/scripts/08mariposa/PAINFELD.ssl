#include "..\headers\define.h"
#include "..\headers\command.h"

procedure start;
procedure spatial_p_proc;
procedure damage_p_proc;

procedure start begin
end

procedure spatial_p_proc begin
   if fixt_enabled then begin
      if global_var(GVAR_MBASE_RED_ONLY_PLAYER) then begin
         if source_obj == dude_obj then begin
            critter_dmg(source_obj, random(10, 30), DMG_electrical);
         end
      end
      else if global_var(GVAR_MBASE_RED_ONLY_PARTY) then begin
         if (source_obj == dude_obj) then begin
            critter_dmg(source_obj, random(10, 30), DMG_electrical);
         end
      end
      else begin
         critter_dmg(source_obj, random(10, 30), DMG_electrical);
      end
   end
   else begin
      critter_dmg(source_obj, random(10, 30), DMG_electrical);
   end
end

procedure damage_p_proc begin
   if fixt_enabled then begin
      give_xp_msg(50, gen_mstr(504));

      display_msg(message_str(SCRIPT_EMITER1A, 102));
      destroy_object(self_obj);
   end
end
